# Matlab-programming
2020-1 matlab final project

## 연구 목표
#### 1. 1억을 가지고 시가 총액이 가장 높은 다섯 개의 기업에 분산 투자했을 때 합리적인 포트폴리오를 구해본다.
- 1년 기대수익률이 20퍼센트 이상, 공매도가 존재하지 않는다는 조건 하에서 분산이 최소인 포트폴리오
- 가장 95퍼센트 VAR에서 이익이 높은 포트폴리오

#### 2. 주식의 거래대금이 요일에 따라 다른 지에 대해 알아본다

## 연구 설명
#### 1. 첫 번째 연구
- 자료: 시가 총액이 높은 다섯 개의 기업(삼성전자,SK하이닉스,네이버,셀트리온,LG화학)의 일별 종가(2015.01.02 ~ 2020.06.24) (null값이 있는 데이터 모두 삭제)
- 단계: 
  1) 각 주식의 기대수익률과 Volatility 계산
  2) 1년 기대수익률이 20퍼센트 이상, 공매도가 존재하지 않는다는 조건 하에서 분산이 최소인 포트폴리오 구하기
  3) 이 결과를 가치가중 포트폴리오, 동일가중 포트폴리오의 결과와 비교
  4) 99% VAR을 최소화하는 포트폴리오 구하기 (시뮬레이션/모형)

#### 2. 두 번째 연구
- 자료: 한국은행경제통계시스템에서 KOSPI지수 – 거래대금(주식시장, 잠정치), 거래량(주식시장, 잠정치) 자료를 이용한다. (값이 없는 행은 삭제) (월요일=2, … ,금요일=6)
- 단계:
  1) 요일 더미변수와 거래량을 변수로 하여 회귀분석을 실시하여 추청치를 구한다.
  2) 이 요일 더미변수들이 유의한지를 T테스트와 F테스트를 이용하여 검정한다.

## 결과
#### 1. 첫 번째 연구

| 기업 | 가중치 |
| --- | --- |
| 삼성전자 | 0.3434 |
| SK 하이닉스| 0.0000 |
| 네이버 | 0.1811 |
| 셀트리온 | 0.2934 |
| LG화학 | 0.1820 |

- 수익률 20% 이상 분산 최소화 포트폴리오 결과, 삼성전자에 가장 많이 투자하고 셀트리온, LG화학, 네이버, SK하이닉스 순으로 투자한다. 특히, SK 하이닉스에는 거의 투자하지 않는다.

| | 기대수익률(1년) | 표준편차(1년) |
| --- | --- | --- |
| 수익률 20% 이상 분산 최소화 | 0.2000 | 0.2357 |
| 가치가중 포트폴리오 | 0.1306 |0.2291 |
| 동일가중 포트폴리오 | 0.1717 |0.2268 |

- 가치가중과 동일가중 포트폴리오를 비교하면 동일가중 포트폴리오가 표준편차가 작으면서 기대수익률이 높아 더 좋은 포트폴리오라고 할 수 있다. 수익률 20퍼센트이상 분산 최소화 포트폴리오는 동일가중 포트폴리오보다 기대수익률도 높고, 표준편차도 더 크다. 어느 것이 더 낫다고는 할 수 없다.

- 99% VAR를 최소화하는 포트폴리오를 구해보면, 시뮬레이션을 통한 방법과 모형을 이용한 방법에서 결과값이 다르게 나옴을 알 수 있다. 모형을 이용한 99% VAR이 훨씬 큰 값이며, 두 가지 방법의 가중치를 비교해보면 첫 번째 주식, 삼성전자에 가장 많이 투자하고 두 번째 주식, SK 하이닉스에 가장 적게 투자함이 비슷하게 나타난다. 
 

#### 2. 두 번째 연구

> Log(Y) = α + β1*X1 + β2*X2 + β3*X3 + β4*X4 + β5*X5
> 
> Log(Y_hat) = 10.4111 + 0.0346*X1 + 0.0533*X2 + 0.0914*X3 + 0.0565*X4 + 0.0973*X5

- 거래량이 1주 변하면 거래대금은 평균적으로 9.73% 증가한다
- 월요일에 비해 화요일은 거래대금이 평균적으로 3.46% 증가한다.
- 월요일에 비해 수요일은 거래대금이 평균적으로 5.33% 증가한다.
- 월요일에 비해 목요일은 거래대금이 평균적으로 9.14% 증가한다.
- 월요일에 비해 금요일은 거래대금이 평균적으로 5.65% 증가한다.
- 월요일은 다른 요일에 비해 평균적으로 거래대금이 가장 낮다.
 
**T-test**
1. H0: beta_i = 0, H1: beta_i != 0
2. t-statistic 사용, n이 크기때문에 정규분포를 따른다. t=beta_hat/se_hat(beta_hat) ~ N(0,1)
3. alpha = 0.05 -> critical value = 1.96
4. t값은 순서대로 1.7498, 2.6857, 4.6291, 2.8587
5. beta1: 유의하지 않음, beta2,3,4: 유의

-> 월요일과 수, 목, 금요일 각각의 거래대금 차이는 통계적으로 유의하지만 월요일과 화요일의 거래대금차이는 통계적으로 유의하지 못하다.

**F-test**
1. H0: beta1 = beta2 = beta3 = beta4 = 0, H1: Not H0
restricted model: Y = α + β5*X5
unrestricted model: Y = α + β1*X1 + β2*X2 + β3*X3 + β4*X4 +β5*X5
2. F-statistic 사용, n이 크기 때문에 F분포를 따른다. F=((RSS_R-RSS_U)/J)/(RSS_U/(n-k)) ~ F(J,n-k)
3. alpha = 0.05 -> critical value = 2.38
4. F = 5.72
5. 귀무가설 기각, 요일 더미변수들의 회귀계수들 중 적어도 하나는 유의하다.

-> 요일에 따른 거래대금의 차이가 존재한다.
